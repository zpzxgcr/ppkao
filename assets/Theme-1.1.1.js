import{ac as S,ab as E,P as N,I as Y,du as A,ad as z,ae as M,af as Z,K as x,aT as V,dv as ee,L as ae,M as _,ak as ie,ai as te,O as ne,al as se,aj as oe,k as v,r as P,bt as le,w as F,ao as ce,av as re,c as p,o as t,f as h,h as c,as as ue,i as a,z as u,B as r,e as m,S as g,aV as y,y as B,R as L,d as R,dn as de,n as ve,at as pe,aP as me,dw as U,bT as fe,T as he,_ as be,l as ye}from"./entry-1.1.1.js";const ke=Y({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:ee},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:V},activeActionIcon:{type:V},activeIcon:{type:V},inactiveIcon:{type:V},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:x(Function)},id:String,tabindex:{type:[String,Number]},...Z(["ariaLabel"])}),ge={[M]:o=>S(o)||E(o)||N(o),[z]:o=>S(o)||E(o)||N(o),[A]:o=>S(o)||E(o)||N(o)},j="ElSwitch",we=_({name:j}),Ie=_({...we,props:ke,emits:ge,setup(o,{expose:w,emit:d}){const n=o,{formItem:b}=ie(),f=te(),i=ne("switch"),{inputId:C}=se(n,{formItemContext:b}),I=oe(v(()=>n.loading)),D=P(n.modelValue!==!1),k=P(),G=P(),H=v(()=>[i.b(),i.m(f.value),i.is("disabled",I.value),i.is("checked",s.value)]),W=v(()=>[i.e("label"),i.em("label","left"),i.is("active",!s.value)]),q=v(()=>[i.e("label"),i.em("label","right"),i.is("active",s.value)]),J=v(()=>({width:le(n.width)}));F(()=>n.modelValue,()=>{D.value=!0});const K=v(()=>D.value?n.modelValue:!1),s=v(()=>K.value===n.activeValue);[n.activeValue,n.inactiveValue].includes(K.value)||(d(M,n.inactiveValue),d(z,n.inactiveValue),d(A,n.inactiveValue)),F(s,e=>{var l;k.value.checked=e,n.validateEvent&&((l=b==null?void 0:b.validate)==null||l.call(b,"change").catch(X=>ce()))});const T=()=>{const e=s.value?n.inactiveValue:n.activeValue;d(M,e),d(z,e),d(A,e),me(()=>{k.value.checked=s.value})},O=()=>{if(I.value)return;const{beforeChange:e}=n;if(!e){T();return}const l=e();[U(l),S(l)].includes(!0)||fe(j,"beforeChange must return type `Promise<boolean>` or `boolean`"),U(l)?l.then($=>{$&&T()}).catch($=>{}):l&&T()},Q=()=>{var e,l;(l=(e=k.value)==null?void 0:e.focus)==null||l.call(e)};return re(()=>{k.value.checked=s.value}),w({focus:Q,checked:s}),(e,l)=>(t(),p("div",{class:u(a(H)),onClick:pe(O,["prevent"])},[h("input",{id:a(C),ref_key:"input",ref:k,class:u(a(i).e("input")),type:"checkbox",role:"switch","aria-checked":a(s),"aria-disabled":a(I),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:a(I),tabindex:e.tabindex,onChange:T,onKeydown:ue(O,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(t(),p("span",{key:0,class:u(a(W))},[e.inactiveIcon?(t(),r(a(y),{key:0},{default:m(()=>[(t(),r(g(e.inactiveIcon)))]),_:1})):c("v-if",!0),!e.inactiveIcon&&e.inactiveText?(t(),p("span",{key:1,"aria-hidden":a(s)},B(e.inactiveText),9,["aria-hidden"])):c("v-if",!0)],2)):c("v-if",!0),h("span",{ref_key:"core",ref:G,class:u(a(i).e("core")),style:ve(a(J))},[e.inlinePrompt?(t(),p("div",{key:0,class:u(a(i).e("inner"))},[e.activeIcon||e.inactiveIcon?(t(),r(a(y),{key:0,class:u(a(i).is("icon"))},{default:m(()=>[(t(),r(g(a(s)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(t(),p("span",{key:1,class:u(a(i).is("text")),"aria-hidden":!a(s)},B(a(s)?e.activeText:e.inactiveText),11,["aria-hidden"])):c("v-if",!0)],2)):c("v-if",!0),h("div",{class:u(a(i).e("action"))},[e.loading?(t(),r(a(y),{key:0,class:u(a(i).is("loading"))},{default:m(()=>[R(a(de))]),_:1},8,["class"])):a(s)?L(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(t(),r(a(y),{key:0},{default:m(()=>[(t(),r(g(e.activeActionIcon)))]),_:1})):c("v-if",!0)]):a(s)?c("v-if",!0):L(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(t(),r(a(y),{key:0},{default:m(()=>[(t(),r(g(e.inactiveActionIcon)))]),_:1})):c("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(t(),p("span",{key:1,class:u(a(q))},[e.activeIcon?(t(),r(a(y),{key:0},{default:m(()=>[(t(),r(g(e.activeIcon)))]),_:1})):c("v-if",!0),!e.activeIcon&&e.activeText?(t(),p("span",{key:1,"aria-hidden":!a(s)},B(e.activeText),9,["aria-hidden"])):c("v-if",!0)],2)):c("v-if",!0)],10,["onClick"]))}});var Te=ae(Ie,[["__file","switch.vue"]]);const Ve=he(Te),Se={__name:"Theme",props:{size:{type:String,default:"normal"}},setup(o){const w=o,d=ye(),n=v(()=>{var f,i;return(i=(f=d.$darkMode)==null?void 0:f.isDarkMode)==null?void 0:i.value}),b=f=>{d.$darkMode.toggleTheme(f)};return(f,i)=>{const C=Ve;return t(),p("div",{class:u({"normal-box":w.size==="normal","small-box":w.size==="small"})},[R(C,{"model-value":a(n),class:"theme",onClick:b},{"active-action":m(()=>i[0]||(i[0]=[h("div",{class:"dark-box"},[h("img",{src:"https://static.ppkao.com/www/images/dark-mode.png",alt:"暗夜模式"})],-1)])),"inactive-action":m(()=>i[1]||(i[1]=[h("div",{class:"light-box"},[h("img",{src:"https://static.ppkao.com/www/images/light-mode.png",alt:"日间模式"})],-1)])),_:1},8,["model-value"])],2)}}},Ee=be(Se,[["__scopeId","data-v-5b2adfbe"]]);export{Ee as default};
