import{aa as S,a9 as C,P as E,I as Y,ds as A,ab as z,ac as M,ad as Z,K as x,aR as V,dt as ee,L as ae,M as U,ai as ie,ag as te,O as ne,aj as se,ah as oe,k as v,r as P,br as le,w as F,am as ce,at as re,c as p,o as t,f as h,h as c,aq as ue,i as a,z as u,B as r,e as m,S as k,aT as y,y as B,R as L,d as _,dl as de,n as ve,ar as pe,aN as me,du as R,bR as fe,T as he,_ as be,l as ye}from"./entry-1.2.0.js";const ge=Y({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:ee},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:V},activeActionIcon:{type:V},activeIcon:{type:V},inactiveIcon:{type:V},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:x(Function)},id:String,tabindex:{type:[String,Number]},...Z(["ariaLabel"])}),ke={[M]:o=>S(o)||C(o)||E(o),[z]:o=>S(o)||C(o)||E(o),[A]:o=>S(o)||C(o)||E(o)},j="ElSwitch",Ie=U({name:j}),we=U({...Ie,props:ge,emits:ke,setup(o,{expose:I,emit:d}){const n=o,{formItem:b}=ie(),f=te(),i=ne("switch"),{inputId:N}=se(n,{formItemContext:b}),w=oe(v(()=>n.loading)),D=P(n.modelValue!==!1),g=P(),q=P(),G=v(()=>[i.b(),i.m(f.value),i.is("disabled",w.value),i.is("checked",s.value)]),H=v(()=>[i.e("label"),i.em("label","left"),i.is("active",!s.value)]),W=v(()=>[i.e("label"),i.em("label","right"),i.is("active",s.value)]),J=v(()=>({width:le(n.width)}));F(()=>n.modelValue,()=>{D.value=!0});const K=v(()=>D.value?n.modelValue:!1),s=v(()=>K.value===n.activeValue);[n.activeValue,n.inactiveValue].includes(K.value)||(d(M,n.inactiveValue),d(z,n.inactiveValue),d(A,n.inactiveValue)),F(s,e=>{var l;g.value.checked=e,n.validateEvent&&((l=b==null?void 0:b.validate)==null||l.call(b,"change").catch(X=>ce()))});const T=()=>{const e=s.value?n.inactiveValue:n.activeValue;d(M,e),d(z,e),d(A,e),me(()=>{g.value.checked=s.value})},O=()=>{if(w.value)return;const{beforeChange:e}=n;if(!e){T();return}const l=e();[R(l),S(l)].includes(!0)||fe(j,"beforeChange must return type `Promise<boolean>` or `boolean`"),R(l)?l.then($=>{$&&T()}).catch($=>{}):l&&T()},Q=()=>{var e,l;(l=(e=g.value)==null?void 0:e.focus)==null||l.call(e)};return re(()=>{g.value.checked=s.value}),I({focus:Q,checked:s}),(e,l)=>(t(),p("div",{class:u(a(G)),onClick:pe(O,["prevent"])},[h("input",{id:a(N),ref_key:"input",ref:g,class:u(a(i).e("input")),type:"checkbox",role:"switch","aria-checked":a(s),"aria-disabled":a(w),"aria-label":e.ariaLabel,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:a(w),tabindex:e.tabindex,onChange:T,onKeydown:ue(O,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!e.inlinePrompt&&(e.inactiveIcon||e.inactiveText)?(t(),p("span",{key:0,class:u(a(H))},[e.inactiveIcon?(t(),r(a(y),{key:0},{default:m(()=>[(t(),r(k(e.inactiveIcon)))]),_:1})):c("v-if",!0),!e.inactiveIcon&&e.inactiveText?(t(),p("span",{key:1,"aria-hidden":a(s)},B(e.inactiveText),9,["aria-hidden"])):c("v-if",!0)],2)):c("v-if",!0),h("span",{ref_key:"core",ref:q,class:u(a(i).e("core")),style:ve(a(J))},[e.inlinePrompt?(t(),p("div",{key:0,class:u(a(i).e("inner"))},[e.activeIcon||e.inactiveIcon?(t(),r(a(y),{key:0,class:u(a(i).is("icon"))},{default:m(()=>[(t(),r(k(a(s)?e.activeIcon:e.inactiveIcon)))]),_:1},8,["class"])):e.activeText||e.inactiveText?(t(),p("span",{key:1,class:u(a(i).is("text")),"aria-hidden":!a(s)},B(a(s)?e.activeText:e.inactiveText),11,["aria-hidden"])):c("v-if",!0)],2)):c("v-if",!0),h("div",{class:u(a(i).e("action"))},[e.loading?(t(),r(a(y),{key:0,class:u(a(i).is("loading"))},{default:m(()=>[_(a(de))]),_:1},8,["class"])):a(s)?L(e.$slots,"active-action",{key:1},()=>[e.activeActionIcon?(t(),r(a(y),{key:0},{default:m(()=>[(t(),r(k(e.activeActionIcon)))]),_:1})):c("v-if",!0)]):a(s)?c("v-if",!0):L(e.$slots,"inactive-action",{key:2},()=>[e.inactiveActionIcon?(t(),r(a(y),{key:0},{default:m(()=>[(t(),r(k(e.inactiveActionIcon)))]),_:1})):c("v-if",!0)])],2)],6),!e.inlinePrompt&&(e.activeIcon||e.activeText)?(t(),p("span",{key:1,class:u(a(W))},[e.activeIcon?(t(),r(a(y),{key:0},{default:m(()=>[(t(),r(k(e.activeIcon)))]),_:1})):c("v-if",!0),!e.activeIcon&&e.activeText?(t(),p("span",{key:1,"aria-hidden":!a(s)},B(e.activeText),9,["aria-hidden"])):c("v-if",!0)],2)):c("v-if",!0)],10,["onClick"]))}});var Te=ae(we,[["__file","switch.vue"]]);const Ve=he(Te),Se={__name:"Theme",props:{size:{type:String,default:"normal"}},setup(o){const I=o,d=ye(),n=v(()=>{var f,i;return(i=(f=d.$darkMode)==null?void 0:f.isDarkMode)==null?void 0:i.value}),b=f=>{d.$darkMode.toggleTheme(f)};return(f,i)=>{const N=Ve;return t(),p("div",{class:u({"normal-box":I.size==="normal","small-box":I.size==="small"})},[_(N,{"model-value":a(n),class:"theme",onClick:b},{"active-action":m(()=>i[0]||(i[0]=[h("div",{class:"dark-box"},[h("img",{src:"https://static.ppkao.com/www/images/dark-mode.png",alt:"暗夜模式"})],-1)])),"inactive-action":m(()=>i[1]||(i[1]=[h("div",{class:"light-box"},[h("img",{src:"https://static.ppkao.com/www/images/light-mode.png",alt:"日间模式"})],-1)])),_:1},8,["model-value"])],2)}}},Ce=be(Se,[["__scopeId","data-v-5b2adfbe"]]);export{Ce as default};
