const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Chapter-1.1.5.js","./el-skeleton-item-1.1.5.js","./entry-1.1.5.js","./entry-1.1.5.css","./el-skeleton-item-1.1.5.css","./el-dialog-1.1.5.js","./index-1.1.55.js","./el-dialog-1.1.5.css","./Chapter-1.1.5.css","./Menu-1.1.5.js","./config-1.1.5.js","./Menu-1.1.5.css","./index-1.1.57.js","./el-table-1.1.5.js","./el-scrollbar-1.1.5.js","./el-scrollbar-1.1.5.css","./el-popper-1.1.5.js","./el-popper-1.1.5.css","./_Uint8Array-1.1.5.js","./_initCloneObject-1.1.5.js","./el-tag-1.1.5.js","./isEqual-1.1.5.js","./el-tag-1.1.5.css","./el-checkbox-1.1.5.js","./el-checkbox-1.1.5.css","./el-table-1.1.5.css","./el-tooltip-1.1.5.js","./index-1.1.56.css"])))=>i.map(i=>d[i]);
import{I as W,J as z,K as O,L as X,M as V,N as mt,k as E,O as Y,P as H,Q as ht,B as tt,o as g,e as S,R as et,n as st,z as A,i as d,S as at,T as nt,U as ft,V as it,W as w,X as _t,Y as I,Z,$ as R,a0 as ot,a1 as yt,a2 as Q,_ as bt,a3 as Tt,D as gt,r as J,m as Lt,w as Dt,c as k,d as T,C as F,f as l,a4 as St,a5 as It,a6 as Nt,y as $,H as G,a7 as B,a8 as vt,j as xt,a9 as kt,F as q,aa as Et}from"./entry-1.1.5.js";import{E as wt}from"./el-dialog-1.1.5.js";const Ct=W({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:O([Number,Object]),default:()=>z({})},sm:{type:O([Number,Object]),default:()=>z({})},md:{type:O([Number,Object]),default:()=>z({})},lg:{type:O([Number,Object]),default:()=>z({})},xl:{type:O([Number,Object]),default:()=>z({})}}),rt=Symbol("rowContextKey"),jt=V({name:"ElCol"}),Pt=V({...jt,props:Ct,setup(e){const s=e,{gutter:a}=mt(rt,{gutter:E(()=>0)}),t=Y("col"),_=E(()=>{const n={};return a.value&&(n.paddingLeft=n.paddingRight=`${a.value/2}px`),n}),m=E(()=>{const n=[];return["span","offset","pull","push"].forEach(r=>{const i=s[r];H(i)&&(r==="span"?n.push(t.b(`${s[r]}`)):i>0&&n.push(t.b(`${r}-${s[r]}`)))}),["xs","sm","md","lg","xl"].forEach(r=>{H(s[r])?n.push(t.b(`${r}-${s[r]}`)):ht(s[r])&&Object.entries(s[r]).forEach(([i,L])=>{n.push(i!=="span"?t.b(`${r}-${i}-${L}`):t.b(`${r}-${L}`))})}),a.value&&n.push(t.is("guttered")),[t.b(),n]});return(n,u)=>(g(),tt(at(n.tag),{class:A(d(m)),style:st(d(_))},{default:S(()=>[et(n.$slots,"default")]),_:3},8,["class","style"]))}});var $t=X(Pt,[["__file","col.vue"]]);const At=nt($t),Rt=["start","center","end","space-around","space-between","space-evenly"],Kt=["top","middle","bottom"],zt=W({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:Rt,default:"start"},align:{type:String,values:Kt}}),Ot=V({name:"ElRow"}),Mt=V({...Ot,props:zt,setup(e){const s=e,a=Y("row"),t=E(()=>s.gutter);ft(rt,{gutter:t});const _=E(()=>{const n={};return s.gutter&&(n.marginRight=n.marginLeft=`-${s.gutter/2}px`),n}),m=E(()=>[a.b(),a.is(`justify-${s.justify}`,s.justify!=="start"),a.is(`align-${s.align}`,!!s.align)]);return(n,u)=>(g(),tt(at(n.tag),{class:A(d(m)),style:st(d(_))},{default:S(()=>[et(n.$slots,"default")]),_:3},8,["class","style"]))}});var Jt=X(Mt,[["__file","row.vue"]]);const Gt=nt(Jt),Vt=it("topic",{state:()=>({chapterLoad:!1,chapterData:[],sectionLoad:!1,sectionData:[],currentTopicList:[],userObjectList:[],currentSubject:{},treeListData:[],chapterTreeExpandIdArr:[],chapterId:"",currentSubjectDate:"",treePaperListData:[],paperTreeExpandIdArr:[],paperTableData:[],paperTableDataIsLoader:!0,paperTreeListDataIsLoaded:!1,userSubjectList:[],paperResultArr:[],isShowCorrectDialog:!1,allPaperIdList:[]}),actions:{handleCurrentTopicList(e){const{index:s,answer:a,isRight:t,userAnswer:_,isShowAnswer:m,isAnLi:n,bigIndex:u}=e;if(n||n===0){const f={isRight:t,answer:a,userAnswer:_,showAnswer:m};this.$state.currentTopicList[n]||(this.$state.currentTopicList[n]=[],this.$state.currentTopicList[u]=[]),u&&(this.$state.currentTopicList[u][s]=f),this.$state.currentTopicList[n][s]=f}else this.$state.currentTopicList[s]={userAnswer:_,answer:a,isRight:t,showAnswer:m}},async getTikuData(e){this.chapterLoad=!0,I({id:e}).then(s=>{s.S==="1"&&(this.chapterData=s.KSTKZJList,this.sectionLoad=!0,I({id:s.KSTKZJList[0].id}).then(({S:a,KSTKZJList:t})=>{a==="1"&&(this.sectionData=t)}).finally(this.sectionLoad=!1))}).finally(this.chapterLoad=!1)},subjectInitialize(e,s){const a=e[0];s?this.onGetPaperTreeList():this.onGetChapter(a)},async setCurrentSubject(e,s,a){if(!a){const t=e.isflag==="3"?e.tkid:e.Tid||e.id;R("chapterId",t),this.chapterId=t,this.currentSubject=e,this.paperTreeExpandIdArr=[],this.chapterTreeExpandIdArr=[],R("currentSubjectInfo",e),s?this.onGetPaperTreeList():this.onGetChapter(e)}},async onGetPaperTreeList(){let{KSTKZJList:e,S:s}=await I({id:w("questionBankId")}),a;if(s==="1"){if(a=e.every(t=>t.lnztNum==="0"&&t.mnktNum==="0"),a){const{KSTKList:t,S:_}=await Z({id:w("questionBankId")});_==="1"&&e.unshift(t[0])}e=e.filter(t=>(+t.mnktNum||+t.lnztNum)&&(t.zjIsPay==="1"||t.tkIsPay==="1")),e.forEach(t=>{this.paperTreeExpandIdArr.length||this.paperTreeExpandIdArr.push(t.id),(+t.mnktNum||+t.lnztNum)&&(t.erzi=[{tname:`模拟试题（${+t.mnktNum}）`,leaf:!1,paperTid:t.kstid,type:"1",num:+t.mnktNum},{tname:`历年真题（${+t.lnztNum}）`,leaf:!1,paperTid:t.kstid,type:"2",num:+t.lnztNum}])}),this.treePaperListData=e}else this.treePaperListData=[];this.paperTableData=[],this.paperTreeListDataIsLoaded=!0},async onGetChapter(e){this.treeListData=[];const{S:s,KSTKZJList:a}=await(e.linktidisleve==="0"?I({id:e.linktid}):I({id:e.id||this.getChapterId}));s==="1"&&(this.treeListData=a.map(t=>(Object.assign(t,{leaf:t.isleve==="1"&&t.linktidisleve==="1"}),t.zjIsPay!=="0"&&(t.isleve==="0"||t.linktidisleve==="0")&&!this.chapterTreeExpandIdArr.length&&this.chapterTreeExpandIdArr.push(t.id),t)).filter(t=>t.zjIsPay==="1"),this.treeListDataIsLoaded=!0)},onOpenCorrectDialog(){this.isShowCorrectDialog=!this.isShowCorrectDialog},async onPaperResultArr(e){const{paperId:s,linktid:a,submitStr:t}=e;this.$state.paperResultArr.push(t),this.$state.paperResultArr.length>=10&&(await _t({paperId:s,linktid:a,postStr:this.$state.paperResultArr.join("[|]")}),this.$state.paperResultArr=[])}},getters:{getChapterId(e){return e.chapterId||w("chapterId")}}}),Bt=it("print",{state:()=>({status:"",testDate:"",reviewTime:0,exerciseTopicNum:0,testRemainDays:0,allSubjectPlan:{},todayRemainTopicNum:0,todayRemainTime:0}),actions:{async planDataInit(){const{keMuID:e,tiKuID:s,buyID:a,linktid:t}=w("relativeInfo"),_=await Q({ID:e}),{ChapterExamNum:m,ChapterExamDone:n}=_.DataList[0];if(this.allSubjectPlan.length&&this.allSubjectPlan[e])if(+m){const{todayRemainTopicNum:u,todayRemainTime:f,status:r}=this.allSubjectPlan[e];this.status=r,this.allSubjectPlan[e].topicNeedNumPerDay=Math.ceil(m-n)/this.getTestRemainDays,u||(this.status="learned")}else{const u=await Q({ID:t||a}),{ChapterExamNum:f,ChapterExamDone:r}=u.DataList[0],{todayRemainTopicNum:i,todayRemainTime:L,status:C}=this.allSubjectPlan[e];this.status=C,this.allSubjectPlan[e].topicNeedNumPerDay=Math.ceil(f-r)/this.getTestRemainDays}else this.status="unMake"},async getPlanExamIdList(){const{keMuID:e,tiKuID:s,buyID:a,linktid:t}=w("relativeInfo");this.allSubjectPlan.length&&this.allSubjectPlan[e]||I({ID:e}).then(async _=>{const{KSTKZJList:m}=_;if(m.forEach(u=>{u.SJtype="1"}),m.filter(u=>u.zjIsPay!=="0"),!m.every(u=>u.lnztNum==="0"&&u.mnktNum==="0")){const{KSTKList:u}=await Z({id:e}),f=[...u,...m];f.forEach(i=>{i.SJtype=i.SJtype||"1"});let r=Math.floor(Math.random()*f.length);yt({tid:f[r].id}).then(i=>{let L=[],C=0;i.tmtypeNum.forEach(M=>{L.push(M.TmType),C+=+M.StNum}),this.onGetExamId(C,L,f[r].id)})}})},onGetExamId(e,s,a){ot({examNum:e,examType:s,typeId:a,doType:"random"}).then(t=>{t.S})}},getters:{getTestRemainDays:e=>{const s=+new Date,a=+new Date(e.testDate);return Math.floor((a-s)/(24*3600*1e3))}},persist:!0}),Zt=F(()=>q(()=>import("./Chapter-1.1.5.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]),import.meta.url).then(e=>e.default||e)),Ft=F(()=>q(()=>import("./Menu-1.1.5.js"),__vite__mapDeps([9,10,2,3,11]),import.meta.url).then(e=>e.default||e)),qt=F(()=>q(()=>import("./index-1.1.57.js"),__vite__mapDeps([12,13,2,3,14,15,16,6,17,18,19,20,21,22,23,24,25,26,27]),import.meta.url).then(e=>e.default||e)),Ut={class:"box"},Ht={class:"tab__top"},Qt={class:"study__banner"},Wt={class:"banner__left"},Xt={class:"tips"},Yt={class:"my-header"},te=["id"],ee={class:"topic__filter"},se={class:"topic__classify"},ae={class:"btn__container"},ne=["onClick"],ie={class:"topic__type"},oe={class:"btn__container"},re=["onClick"],le={class:"topic__num"},ce={class:"btn__container"},ue=["onClick"],de={__name:"[id]",setup(e){const s=Bt(),a=Vt(),t=Tt(),_=gt(),{id:m}=_.params,n=J(!1),u=J({tname:"请先选择章节"}),f=J([]),r=J(!1),i=Lt({doTypeArr:[{name:"未做题",type:"notdo"},{name:"已做题",type:"doneExam"},{name:"做错题",type:"errorExam"}],topicNumList:[],currentDoType:"notdo",numArrList:[20,50,100],currentDoNum:20,currentExamId:"",currentExamMode:"practice",currentClickChapterInfo:{},treeDataIsLoaded:!1,tableDataIsLoaded:!1,isLoading:!1,isShowPlanModal:!1,defaultExpand:[]}),L=E(()=>s.status==="unMake"?"制定专属学习计划，规划学习进步更快哦":s.status==="unLearn"?"今日还有234道题，20分钟学习时间未完成哦":"今日已完成，明天继续加油哦!"),C=p=>{},M=async()=>{i.isLoading=!0;const{currentDoType:p,currentDoNum:o,topicNumList:N,currentExamId:D,currentExamMode:h,currentClickChapterInfo:b}=i;let{linktid:v,tname:x}=b;v||(v=b.tn===w("linktid")?w("linktid"):""),R("chapterName",x);const j=N.filter(c=>c==null?void 0:c.isSelected).map(c=>c.tmtype);try{const{examIdList:c,S:y}=await ot({doType:p,typeId:D,examType:j.join(","),examNum:o});y==="1"&&(a.currentTopicList=[],r.value=!1,R("examIdList",c),R("mode",h),t.push({path:"/home/exam",query:{examIdList:c,linktid:v||"",mode:h,chapterName:x}})),i.isLoading=!1}catch(c){throw i.isLoading=!1,c}},lt=()=>{n.value||ct(),n.value=!n.value},ct=()=>{a.getTreeListData(m)},ut=async p=>{i.tableDataIsLoaded=!1,f.value=[],u.value=p;let o=[];const{S:N,KSTKZJList:D}=await I({id:p.id||a.currentSubject.id});if(N==="1")o=D;else if(p.linktidisleve==="0"){R("linktid",p.linktid);const{S:h,KSTKZJList:b}=await I({id:p.linktid});h==="1"&&(o=b)}else{const{KSTKList:h,S:b}=await Z({id:p.id||a.currentSubject.id});b==="1"&&(o=h)}p&&!p.tname&&o.length>0&&(u.value={tname:a.currentSubject.tname}),o.forEach(h=>{const{tname:b,ChapterExamDone:v,ChapterExamRight:x,stnum:j}=h;let c=b;const y=Number(v),P=Number(j);let K=y?(Number(x)/y*100).toFixed(0)+"%":"0%",U=y?(y/P*100).toFixed(0)+"%":"0%";x==="0"&&(K="0%"),Object.assign(h,{nodeName:c,accuracy:K,progress:U,topicNum:j,chapterExamDone:v}),h.isleve==="1"&&h.linktidisleve==="1"&&Object.assign(h,{leaf:!0}),f.value=o.filter(pt=>pt.zjIsPay!=="0")}),i.tableDataIsLoaded=!0},dt=async(p,o)=>{i.currentClickChapterInfo=p;const{S:N,tmtypeNum:D}=await Et({tid:p.id});N==="1"&&(i.topicNumList=D.map(h=>({...h,isSelected:!1})),i.currentExamMode=o,i.currentExamId=p.id,r.value=!0)};return a.getTikuData(m),Dt(()=>a.currentSubject,()=>ut({})),(p,o)=>{const N=Zt,D=At,h=Ft,b=St,v=qt,x=Gt,j=wt;return g(),k(G,null,[T(x,{class:"mock-room"},{default:S(()=>[T(D,{lg:{span:5,offset:1},xl:{span:4,offset:2},class:"hidden-md-and-down"},{default:S(()=>[T(N)]),_:1}),T(D,{lg:16,md:22,sm:22,xl:16,class:"tab-box"},{default:S(()=>[T(h),l("div",Ut,[l("div",Ht,[T(b,{icon:d(n)?d(It):d(Nt),class:"let__btn hidden-lg-and-up",onClick:lt},null,8,["icon"]),l("div",null,[l("h2",null,$(d(u).tname),1),o[2]||(o[2]=l("p",{class:"mode-tips"},"练习模式：边做题边出答案 　　背题模式：直接显示答案，无需做题，无做题记录",-1))]),l("div",Qt,[l("div",Wt,[o[3]||(o[3]=l("img",{class:"left-img",src:"https://jscdn.ppkao.com/shop_tiku/assets/images/study_plan.png"},null,-1)),o[4]||(o[4]=l("p",{class:"hr"},null,-1)),l("p",Xt,$(d(L)),1)]),l("button",{class:"study-btn",onClick:o[0]||(o[0]=c=>d(i).isShowPlanModal=!0)},"学习")])]),T(v,{tableData:d(f),onGetTopicNumAndType:dt,onOnRowClick:C},null,8,["tableData"])])]),_:1})]),_:1}),T(j,{modelValue:d(r),"onUpdate:modelValue":o[1]||(o[1]=c=>kt(r)?r.value=c:null),width:"40%"},{header:S(({close:c,titleId:y,titleClass:P})=>[l("div",Yt,[l("h4",{id:y,class:A(P),style:{"font-size":"20px"}},"做题筛选",10,te)])]),default:S(()=>[l("div",ee,[l("div",se,[o[5]||(o[5]=l("p",{class:"title"},"试题分类",-1)),l("div",ae,[(g(!0),k(G,null,B(d(i).doTypeArr,({name:c,type:y})=>(g(),k("div",{onClick:P=>d(i).currentDoType=y},[l("button",{class:A({selected:y===d(i).currentDoType})},$(c),3)],8,ne))),256))])]),l("div",ie,[o[6]||(o[6]=l("p",{class:"title"},"题目类型",-1)),l("div",oe,[(g(!0),k(G,null,B(d(i).topicNumList,({tmtype:c,num:y,isSelected:P},K)=>(g(),k("div",{onClick:U=>d(i).topicNumList[K].isSelected=!d(i).topicNumList[K].isSelected},[l("button",{class:A({selected:P})},$(("getTopicType"in p?p.getTopicType:d(vt))(c))+"（"+$(y)+"）",3)],8,re))),256))])]),l("div",le,[o[7]||(o[7]=l("p",{class:"title"},"做题数量",-1)),l("div",ce,[(g(!0),k(G,null,B(d(i).numArrList,c=>(g(),k("div",{onClick:y=>d(i).currentDoNum=c},[l("button",{class:A({selected:c===d(i).currentDoNum})},$(c),3)],8,ue))),256))])]),T(b,{loading:d(i).isLoading,class:"start",onClick:M},{default:S(()=>o[8]||(o[8]=[xt("开始做题")])),_:1},8,["loading"])])]),_:1},8,["modelValue"])],64)}}},pe=bt(de,[["__scopeId","data-v-3a8746db"]]),fe=Object.freeze(Object.defineProperty({__proto__:null,default:pe},Symbol.toStringTag,{value:"Module"}));export{fe as _,Vt as u};
