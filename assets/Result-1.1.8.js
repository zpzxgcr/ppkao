import{E as V}from"./el-skeleton-item-1.1.8.js";import{_ as A,u as q,a as j,m as S,k as h,r as x,l as O,x as Q,c as l,o as i,f as t,d as r,h as u,e as p,A as v,y as T,i as s,a5 as R,an as z,ao as F,B as P,j as U,a6 as G,aE as H,H as M,bC as J,E as K,a4 as W}from"./entry-1.1.8.js";import{E as X}from"./el-popover-1.1.8.js";import"./el-popper-1.1.8.js";import{Q as Y}from"./qrcode.vue.esm-1.1.8.js";const Z={class:"topic-box"},ee={class:"title"},te={class:"title-badge"},se=["innerHTML"],ne=["innerHTML"],oe={key:0,class:"answer"},ie=["innerHTML"],ae={class:"btn-group"},le={key:1,class:"analysis"},re=["innerHTML"],ce={class:"qrcode-box"},ue={__name:"Topic",props:{info:{type:Object,default:{},required:!0}},setup(e){const m=q(),g=j(),f=S({url:"",config:{src:"https://static.ppkao.com/www/images/zantiku.png",width:25,height:25,excavate:!0}}),c=S({answer:e.info.answer||"",analysis:e.info.dajx||""}),y=h(()=>e.info.colortitle??e.info.title),d=h(()=>e.info.colortmnr??e.info.tmnr),E=x(!1),$=h(()=>O().$darkMode.isDarkMode.value?"dark":"light"),L=x(),w=x(!1),B=(o,n)=>{f.url=`https://www.ppkao.com/mp/topic?st_id=${o.id}&st_from=${o.stfrom}&md5=true`,L.value=n.currentTarget},k=async o=>{const{isLogin:n}=g.userInfo;n?(w.value=!0,J({examId:e.info.guid||e.info.id,stfrom:e.info.stfrom,md5:e.info.md5}).then(a=>{a.S==="1"?(a.Examlist[0].Exam_Type==="4"&&(a.Examlist[0].Answer=a.Examlist[0].Answer==="1"?"正确":"错误"),c.answer=a.Examlist[0].Answer,c.analysis=a.Examlist[0].Analysis,E.value=!0):a.S==="-4"&&!o?m.setModal("pay",!0,b):K({type:"error",message:a.msg})}).finally(()=>{w.value=!1})):o||m.setModal("scan",!0,b)},b=()=>{m.setModal("pay",!1),m.setModal("scan",!1),k()};return localStorage!=null&&localStorage.getItem("to_pay_result")&&(localStorage.removeItem("to_pay_result"),k(!0)),(o,n)=>{const a=F,I=G,C=X,D=H,_=Q("html-image");return i(),l(M,null,[t("div",Z,[r(a,{to:("linkTo"in o?o.linkTo:s(z))(e.info)},{default:p(()=>[t("div",ee,[t("span",te,T(("getTopicType"in o?o.getTopicType:s(R))(e.info.tmtype)),1),v(t("h4",{class:"title-wrap",innerHTML:s(y)},null,8,se),[[_]])]),s(d)?v((i(),l("div",{key:0,class:"topic-wrap",innerHTML:s(d)},null,8,ne)),[[_]]):u("",!0)]),_:1},8,["to"]),s(c).answer?(i(),l("div",oe,[n[2]||(n[2]=t("span",{class:"answer-title"},"答案：",-1)),v(t("span",{class:"answer-wrap",innerHTML:s(c).answer},null,8,ie),[[_]])])):u("",!0),t("div",ae,[e.info.btntxt&&!s(E)?(i(),P(I,{key:0,loading:s(w),onClick:n[0]||(n[0]=()=>k(!1))},{default:p(()=>[U(T(e.info.btntxt),1)]),_:1},8,["loading"])):u("",!0),(e.info.stfrom===0||e.info.stfrom)&&o.$device.isDesktop?(i(),l("button",{key:1,class:"mobile",onMouseover:n[1]||(n[1]=N=>B(e.info,N))},"手机看题",32)):u("",!0)]),s(c).analysis?(i(),l("div",le,[n[3]||(n[3]=t("span",{class:"analysis-title"},"答案解析：",-1)),v(t("span",{class:"analysis-wrap",innerHTML:s(c).analysis},null,8,re),[[_]])])):u("",!0)]),r(D,null,{default:p(()=>[r(C,{ref:"popoverRef","virtual-ref":s(L),trigger:"hover",placement:"right",effect:s($),"virtual-triggering":""},{default:p(()=>[t("div",ce,[r(Y,{value:s(f).url,size:120,level:"Q",margin:2,"image-settings":s(f).config},null,8,["value","image-settings"]),n[4]||(n[4]=t("span",null,"微信扫码免费搜题",-1))])]),_:1},8,["virtual-ref","effect"])]),_:1})],64)}}},fe=A(ue,[["__scopeId","data-v-1ff276dc"]]),me={class:"result-box"},de={key:0,class:"head-title"},pe={class:"result-box__list"},ge={__name:"Result",props:{topicList:{type:Array,default:[],required:!0},title:{type:String,default:""},loading:{type:Boolean,default:!1}},setup(e){return(m,g)=>{const f=V,c=H,y=fe;return i(),l("div",me,[e.title?(i(),l("div",de,[g[0]||(g[0]=t("img",{src:"https://static.ppkao.com/www/images/icon-result.png",alt:"题目列表"},null,-1)),t("h1",null,T(e.title),1)])):u("",!0),t("section",pe,[t("ul",null,[r(c,null,{default:p(()=>[e.loading?(i(),l(M,{key:0},[t("li",null,[r(f,{rows:2,animated:""})]),t("li",null,[r(f,{rows:3,animated:""})]),t("li",null,[r(f,{rows:2,animated:""})])],64)):u("",!0)]),_:1}),e.topicList.length>0?(i(!0),l(M,{key:0},W(e.topicList,d=>(i(),l("li",{key:d.ID},[r(y,{info:d},null,8,["info"])]))),128)):u("",!0)])])])}}},he=A(ge,[["__scopeId","data-v-3a333547"]]);export{he as _,fe as a};
