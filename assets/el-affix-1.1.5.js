import{ac as z,P as O,I as R,ad as W,K as L,L as V,M as I,O as q,bh as g,cg as G,ch as $,r as x,k as B,bt as K,w as U,av as Y,bT as j,ce as D,c6 as F,b9 as J,c as Q,o as X,f as Z,R as ee,n as C,z as A,i as f,T as te}from"./entry-1.1.5.js";const oe=R({zIndex:{type:L([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),ae={scroll:({scrollTop:a,fixed:v})=>O(a)&&z(v),[W]:a=>z(a)},P="ElAffix",se=I({name:P}),le=I({...se,props:oe,emits:ae,setup(a,{expose:v,emit:E}){const o=a,b=q("affix"),r=g(),d=g(),s=g(),{height:u}=G(),{height:p,width:w,top:_,bottom:y,update:m}=$(d,{windowScroll:!1}),i=$(r),t=x(!1),S=x(0),c=x(0),k=B(()=>({height:t.value?`${p.value}px`:"",width:t.value?`${w.value}px`:""})),H=B(()=>{if(!t.value)return{};const e=o.offset?K(o.offset):0;return{height:`${p.value}px`,width:`${w.value}px`,top:o.position==="top"?e:"",bottom:o.position==="bottom"?e:"",transform:c.value?`translateY(${c.value}px)`:"",zIndex:o.zIndex}}),T=()=>{if(!s.value)return;S.value=s.value instanceof Window?document.documentElement.scrollTop:s.value.scrollTop||0;const{position:e,target:h,offset:l}=o,N=l+p.value;if(e==="top")if(h){const n=i.bottom.value-N;t.value=l>_.value&&i.bottom.value>0,c.value=n<0?n:0}else t.value=l>_.value;else if(h){const n=u.value-i.top.value-N;t.value=u.value-l<y.value&&u.value>i.top.value,c.value=n<0?-n:0}else t.value=u.value-l<y.value},M=()=>{m(),E("scroll",{scrollTop:S.value,fixed:t.value})};return U(t,e=>E("change",e)),Y(()=>{var e;o.target?(r.value=(e=document.querySelector(o.target))!=null?e:void 0,r.value||j(P,`Target does not exist: ${o.target}`)):r.value=document.documentElement,s.value=D(d.value,!0),m()}),F(s,"scroll",M),J(T),v({update:T,updateRoot:m}),(e,h)=>(X(),Q("div",{ref_key:"root",ref:d,class:A(f(b).b()),style:C(f(k))},[Z("div",{class:A({[f(b).m("fixed")]:t.value}),style:C(f(H))},[ee(e.$slots,"default")],6)],6))}});var ne=V(le,[["__file","affix.vue"]]);const ue=te(ne);export{ue as E};
