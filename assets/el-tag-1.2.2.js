import{S as M,k as O}from"./_Uint8Array-1.2.2.js";import{b as h}from"./isEqual-1.2.2.js";import{bM as P,dm as E,dn as g,aX as v,dp as L,dq as I,dd as _,bN as x,b2 as D,cb as F,b6 as w}from"./entry-1.2.2.js";var H=1,T=2;function G(n,e,t,r){var s=t.length,o=s;if(n==null)return!o;for(n=Object(n);s--;){var i=t[s];if(i[2]?i[1]!==n[i[0]]:!(i[0]in n))return!1}for(;++s<o;){i=t[s];var a=i[0],f=n[a],d=i[1];if(i[2]){if(f===void 0&&!(a in n))return!1}else{var l=new M,c;if(!(c===void 0?h(d,f,H|T,r,l):c))return!1}}return!0}function A(n){return n===n&&!P(n)}function S(n){for(var e=O(n),t=e.length;t--;){var r=e[t],s=n[r];e[t]=[r,s,A(s)]}return e}function C(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function b(n){var e=S(n);return e.length==1&&e[0][2]?C(e[0][0],e[0][1]):function(t){return t===n||G(t,n,e)}}var B=1,N=2;function U(n,e){return E(n)&&A(e)?C(g(n),e):function(t){var r=v(t,n);return r===void 0&&r===e?L(t,n):h(e,r,B|N)}}function $(n){return function(e){return e==null?void 0:e[n]}}function k(n){return function(e){return I(e,n)}}function q(n){return E(n)?$(g(n)):k(n)}function J(n){return typeof n=="function"?n:n==null?_:typeof n=="object"?x(n)?U(n[0],n[1]):b(n):q(n)}const u=new Map;if(w){let n;document.addEventListener("mousedown",e=>n=e),document.addEventListener("mouseup",e=>{if(n){for(const t of u.values())for(const{documentHandler:r}of t)r(e,n);n=void 0}})}function m(n,e){let t=[];return D(e.arg)?t=e.arg:F(e.arg)&&t.push(e.arg),function(r,s){const o=e.instance.popperRef,i=r.target,a=s==null?void 0:s.target,f=!e||!e.instance,d=!i||!a,l=n.contains(i)||n.contains(a),c=n===i,R=t.length&&t.some(p=>p==null?void 0:p.contains(i))||t.length&&t.includes(a),y=o&&(o.contains(i)||o.contains(a));f||d||l||c||R||y||e.value(r,s)}}const Q={beforeMount(n,e){u.has(n)||u.set(n,[]),u.get(n).push({documentHandler:m(n,e),bindingFn:e.value})},updated(n,e){u.has(n)||u.set(n,[]);const t=u.get(n),r=t.findIndex(o=>o.bindingFn===e.oldValue),s={documentHandler:m(n,e),bindingFn:e.value};r>=0?t.splice(r,1,s):t.push(s)},unmounted(n){u.delete(n)}};export{Q as C,J as b};
