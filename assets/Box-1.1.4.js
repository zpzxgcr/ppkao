import{_ as I,r as b,ax as V,m as K,k as N,x as j,c as n,o as r,f as l,H as q,a7 as E,z as f,i as s,y,d as O,e as R,h as M,j as v,A as g,aL as A,ar as L,as as H,at as P,a9 as U,n as k,au as G}from"./entry-1.1.4.js";const J={class:"type-list"},Q=["onClick"],W={class:"input-wrap"},X={class:"btn-group"},Y={class:"search-wrap"},Z=["onKeydown"],_={key:0,class:"tool-bar"},ee={class:"btn-group"},c=200,te={__name:"Box",props:{isFold:{type:Boolean,default:!1},word:{type:String,default:""},isMobile:{type:Boolean,default:!1}},setup(o){const m=b(1),p=b(""),w=b(),{isMobileOrTablet:T}=V(),B=K(["搜标题","搜题干","搜选项"]),x=b(!1),a=b(o.word),u=b(o.isFold),S=N(()=>{const t={"--input-box-height":o.isMobile?"190px":u.value?"128px":"244px","--input-wrap-height":o.isMobile?"136px":u.value?"44px":"160px","--input-wrap-padding":o.isMobile?"8px":u.value?"10px 20px":"20px 20px 16px 20px","--input-placeholder-size":o.isMobile?"14px":u.value?"16px":"18px","--input-tab-size":o.isMobile?"12px":u.value?"20px":"22px"};return o.isMobile&&u.value&&(t["--input-box-height"]="auto",t["--input-wrap-height"]="auto",t["--search-box-padding"]="14px"),t}),$=()=>{x.value=!x.value,localStorage.setItem("is-remind",x.value?"1":"0")},D=t=>{a.value.length>c&&t.preventDefault()},h=t=>{if(t.key==="Enter")if(t.shiftKey){const e=t.target,d=e.selectionStart,i=e.value;e.value=i.slice(0,d)+`
`+i.slice(d),e.selectionStart=e.selectionEnd=d+1;return}else t.preventDefault();a.value.length>=4&&a.value.length<=c&&(t.ai?window.open(T?`https://h5.ppkao.com/#/chat?word=${a.value}`:`https://www.ppkao.com/ai?q=${a.value}&model=ai`):G({path:"/so",query:{q:a.value,way:m.value-1},replace:o.isFold}),o.isFold||(a.value=""))},z=async()=>{{if(!x.value)try{o.isFold&&w.value.select();const t=await(navigator==null?void 0:navigator.clipboard.readText());p.value=t}catch(t){console.error("Failed to read clipboard contents:",t)}u.value=!1}},F=async(t="")=>{try{await navigator.clipboard.writeText(""),p.value="",t&&(a.value=t.slice(0,200)),w.value.focus()}catch(e){console.error("Failed to clear clipboard:",e)}};return x.value=(localStorage==null?void 0:localStorage.getItem("is-remind"))==="1",(t,e)=>{const d=j("wave");return r(),n("div",{class:"search-box",style:k(s(S))},[l("ul",J,[(r(!0),n(q,null,E(s(B),(i,C)=>(r(),n("li",{class:f({active:C+1===s(m)}),onClick:ae=>m.value=C+1},y(i),11,Q))),256))]),l("div",W,[O(A,{name:"slide-fade"},{default:R(()=>[s(p)?(r(),n("div",{key:0,class:f({"copy-mask":!0,"mobile-copy-mask":t.$device.isMobileOrTablet})},[l("p",null,[e[4]||(e[4]=v("检测到复制")),l("span",null,"“"+y(s(p).length>16?s(p).slice(0,16)+"...":s(p))+"”",1),e[5]||(e[5]=v("内容，是否粘贴内容到搜索框？"))]),l("div",X,[g((r(),n("button",{onClick:e[0]||(e[0]=i=>F())},e[6]||(e[6]=[v("不用了")]))),[[d]]),g((r(),n("button",{onClick:e[1]||(e[1]=i=>F(s(p)))},e[7]||(e[7]=[v("确认粘贴")]))),[[d]])]),l("div",{class:"radio",onClick:$},[l("div",{class:f(["radio-circle",{selected:s(x)}])},e[8]||(e[8]=[l("div",{class:"radio-inner-circle"},null,-1)]),2),e[9]||(e[9]=l("span",{class:"radio-label"},"不再提醒复制内容",-1))])],2)):M("",!0)]),_:1}),l("div",Y,[g(l("textarea",{"onUpdate:modelValue":e[2]||(e[2]=i=>U(a)?a.value=i:null),ref_key:"textRef",ref:w,onInput:D,onFocus:z,onKeydown:H(P(h,["prevent"]),["enter"]),placeholder:"有问题就有答案，试试在这里输入你的问题吧...",maxlength:c},null,40,Z),[[L,s(a)]]),s(u)?M("",!0):(r(),n("div",_,[l("span",{style:k({color:s(a).length>=c?"#FF0404":""})},[l("i",{style:k({color:s(a).length>0&&s(a).length<c?"#0479FF":""})},y(s(a).trim().length),5),e[10]||(e[10]=l("span",{style:{margin:"0 2px 0 2px"}},"/",-1)),v(y(c)+"字 ")],4),l("div",ee,[g((r(),n("button",{class:f({"disable-btn":s(a).length<4||s(a).length>c,"ai-btn":!0}),onClick:e[3]||(e[3]=i=>h({ai:!0}))},e[11]||(e[11]=[v("AI搜索")]),2)),[[d]]),g((r(),n("button",{class:f({"disable-btn":s(a).length<4||s(a).length>c,"text-btn":!0}),onClick:h},e[12]||(e[12]=[v("搜索")]),2)),[[d]])])]))])])],4)}}},le=I(te,[["__scopeId","data-v-7a33c9de"]]);export{le as default};
